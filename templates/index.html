<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Face Recognition Attendance System</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Animate.css for animations -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <style>
    .bg-image {
      background-size: cover;
      background-position: center;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }

    .overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 0;
    }

    .container {
      position: relative;
      z-index: 1;
      background: rgba(255, 255, 255, 0.85);
      padding: 30px;
      border-radius: 15px;
      text-align: center;
      max-width: 600px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
    }

    h1 {
      font-weight: bold;
      color: #003366;
      margin-bottom: 30px;
      opacity: 0.95;
    }

    nav a {
      margin: 10px;
      min-width: 180px;
      opacity: 0.9;
    }

    nav a:hover {
      opacity: 1;
    }
  </style>
</head>

<body>
  <!-- Conditional Background Image -->
 <div class="bg-image" style="
  background-image: url(
    {% if session.get('logged_in') %}
      'https://comp.gcoej.ac.in/images/IMG_20180203_142209.jpg'
    {% else %}
      'https://images.shiksha.com/mediadata/images/1552470087php0wzgEA.jpeg'
    {% endif %}
  );
">
    <div class="overlay"></div>
    <!-- Content -->
    <div class="container animate__animated animate__fadeIn">
      {% if not session.get('logged_in') %}
      <h1>üéØ Your Face is Your ID: Welcome to Attendance System</h1>
      {% else %}
      <h1>üë®‚Äçüíº Admin Dashboard: Manage Attendance & Users</h1>
      {% endif %}
            <nav>
        {% if not session.get('logged_in') and not session.get('teacher_logged_in') and not session.get('student_id') %}
          <!-- Show on home page (no one logged in) -->
          <a href="/register" class="btn btn-success">Register User</a>
          <a href="/checkin" class="btn btn-primary">Check-in</a>
          <a href="/checkout" class="btn btn-info">Check-out</a>
        {% elif session.get('logged_in') or session.get('teacher_logged_in') %}
          <!-- Show for admin or teacher -->
          <a href="/register" class="btn btn-success">Register User</a>
          <a href="/checkin" class="btn btn-primary">Check-in</a>
          <a href="/checkout" class="btn btn-info">Check-out</a>
        {% endif %}
      
        <!-- Admin View -->
        {% if session.get('logged_in') %}
          <a href="/dashboard" class="btn btn-warning">View Attendance</a>
          <a href="/students" class="btn btn-secondary">Registered Students</a>
          <a href="/logout" class="btn btn-danger">Logout (Admin)</a>
      
        <!-- Teacher View -->
        {% elif session.get('teacher_logged_in') %}
          <a href="/teacher_dashboard" class="btn btn-warning">Teacher Dashboard</a>
          <a href="/teacher_logout" class="btn btn-danger">Logout (Teacher)</a>
      
        <!-- Student View -->
        {% elif session.get('student_id') %}
          <a href="/student_dashboard" class="btn btn-info">Student Dashboard</a>
          <a href="/profile" class="btn btn-outline-primary">View Profile</a>
          <a href="/edit_profile" class="btn btn-outline-warning">Edit Profile</a>
          <a href="/logout" class="btn btn-danger">Logout (Student)</a>
      
        <!-- Guest View -->
        {% else %}
          <a href="/login" class="btn btn-secondary">Admin Login</a>
          <a href="/teacher_login" class="btn btn-dark">Teacher Login</a>
          <a href="/student_login" class="btn btn-outline-success">Student Login</a>
        {% endif %}
      </nav>

    </div>
  </div>
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>